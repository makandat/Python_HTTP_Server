<!DOCTYPE html>
<html lang=ja">
 <!-- ヘッダ部 -->
 <head>
  <meta charset="utf-8" />
  <title>TkApp</title>
  <!--  Bootstrap5 のリンク -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  <!--  スクリプト -->
  <script>
  </script>
  <!--  スタイル定義 -->
  <style>
    h2 {
      color:purple;
     }
    h3 {
      color:firebrick;
     }
    h4 {
      color:deeppink;
     }
    a:link, a:visited {
      text-decoration: none;
     }
    code {
      border: solid thin silver;
      border-radius: 6px;
      font-size: 11px;
      font-weight: bold;
     }
  </style>
  <script>
   async function on_select() {
     const listbox = document.getElementById("tkapp")
     if (listbox.selectedIndex < 0) {
       alert("エラー： 項目が選択されていません。")
       return
     }
     const app_name = listbox.value
     const basedir = document.getElementById("basedir")
     const url = "http://localhost:2026/pytkapp_run?app=" + app_name
     basedir.innerText = url
     open(url)
   }
  </script>
 </head>

 <!-- 本体部 -->
 <body>
   <!--  タイトル部分 -->
   <header class="container">
    <h1 class="text-center p-5 border border-warning rounded text-danger">TkApp</h1>
    <p class="text-center mt-3"><a href="/">HOME</a></p>
   </header>

   <!--  記事部分 -->
   <article class="container">
    <section class="row mt-5">
     <h2>アプリケーション</h2>
     <form>
      <select id="tkapp" class="form-select" size="15">
       #for $ap in $apps:
         <option>$ap</option>
       #end for
      </select>
      <button id="exec" class="btn btn-primary mt-4" onclick="javascript: on_select()">選択したアプリを開く</button>
     </form>
     
     <div class="mt-2" id="basedir">$basedir</div>
    </section>
   </article>

   <!--  終わり部分 -->
   <footer class="container">
    <p>&nbsp;</p>
    <p style="text-align:center;"><a href="#top">TOP</a></p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
   </footer>
 </body>
</html>
